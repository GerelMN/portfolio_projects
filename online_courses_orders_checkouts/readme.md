## Описание проекта
## 1. A/B - тестирование
В ходе тестирования одной гипотезы целевой группе была предложена новая механика оплаты услуг на сайте, у контрольной группы оставалась базовая механика. 
<br>**Цель:** проанализировать итоги эксперимента и сделать вывод, стоит ли запускать новую механику оплаты на всех пользователей.
**Входные данные:** файл csv с информацией о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа), дополнительный файл с пользователями, который прислали спустя 2 дня после передачи данных, файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимента, файл с информацией об оплатах пользователей в дни проведения эксперимента.
<br>**Предварительное исследование** : пропущенных значений и дубликатов нет, соотношение контрольной и тестовой групп в общей выборке 20/80, каждого пользователя можно отфильтровать по признакам активности и оплаты. Группы приблизительно одинаковые по составу трафика. В обеих группах есть неактивные пользователи совершившие покупку. Поскольку в данных нет информации о датах событий, в проекте было принято считать таких пользователей, начавшими процесс покупки до начала экперимента и не проявившими активности во время эксперимента. 
<br>**Выбор метрик и анализ** Для оценки влияния новой механики оплаты на бизнес проведен анализ Конверсии и Среднего чека, произведение которых дает относительную выручку (Revenue per visitor = Conversion rate * Average Order Value)
<br>Для анализа учитывались только активные пользователи, т.е. те которые заходили на платформу в период проведения экперимента, т.к. на тех пользователей, которые в это время не заходили на платформу, эксперимент не мог повлиять.
<br>Для тестирования гипотезы о равенстве конверсий двух групп использовался Z-тест пропорций. Результаты теста не позволили отклонить нулевую гипотезу о том, что конверсии двух групп одинаковы. Вероятность получить разницу в конверсиях 8% при том, что нулевая гипотеза верна составляет 44%. При этом анализ мощности показал очень низкую мощность теста гипотезы 13%, следовательно веротяность совершить ошибку II рода - 87%. Далее был расчитан необходимый размер выборки для достижения мощности теста в 80%. 
<br>В ходе анализа средних чеков были рассмотрены распределения сумм чеков. В целом в обеих группах присутствует зависимость: чем выше стоимость чека, тем меньше количество чеков. Однако в тестовой группе присуствует аномально большое количество чеков на 1900 

![alt-текст](online_courses_orders_checkouts/dataset/2023-03-13_12-39-42.png "Распределение чеков")


Для тестирования гипотезы о равенстве средних чеков двух групп был использован T критерий Уэлша 


<br>**Вывод**
Целью исследования было определить влияет ли новая механика оплаты на выручку компании. Для этого было проведено сравнение между контрольной и тестовой группой по двум метрикам - конверсия и средний чек и были сделаны следующие наблюдения:
* Сравнение конверсий двух групп показало, что оснований утверждать, что разница стат.значима нет. 

* В данных об оплате был обнаружен аномальный рост количества чеков на сумму 1900. Возможно на наблюдения, выбранные для экперимента по влиянию новой механики оплаты, оказывал действие другой эксперимент, проводимый в компании. Произошло пересечение между наблюдениями двух экпериментов.
* Без учета аномальных данных сравнение среднего чека по двум группам не дало стат.значимого результата
* На основании полученных данных мы не можем утверждать, что существует разница между двумя группами, однако, по обеим метрикам, недостаточное количество полученных данных не дает нам утверждать, что разницы действительно нет. 

Для получения более точных результатов, при дизайне экперимента нужно было учесть, что для использования несбалансированного теста требуется иметь достаточный объем трафика для обнаружения интересующих изменений в метрике и чем больше это изменение(например 20% и выше), тем больше вероятность его обнаружить. 
В нашем случае зафиксированные изменения очень маленькие, при балансе 20/80 не хватает трафика для достижения мощности теста 80%. Если ожидаемый прирост или падение метрики достаточно маленькие (допустим, меньше 5%), то для достижения необходимой мощности теста можно придерживаться баланса 50/50. 

Следует ли запускать новую механику оплаты на всех пользователей?
<br>На данном этапе - нет. У нас нет уверенности в достоверности полученных данных, требуется больше наблюдений для эксперимента. Результат запуска новой механики оплаты на всех пользователей на данном этапе непредсказуем. Мы можем получить как положительный так и отрицательный эффект, либо получить очень незначительный эффект, который не превысит стоимости затраченных ресурсов на внедрение новой механики оплаты на всех пользователей._**  
